webpackJsonp([0],[,,function(t,n,e){"use strict";var o=e(1),i=e(24),s=e(8),a=e.n(s),u=e(7),r=e.n(u),c=e(9),l=e.n(c);o.a.use(i.a),n.a=new i.a.Store({actions:r.a,mutations:l.a,modules:{loading:a.a}})},function(t,n,e){e(15);var o=e(0)(e(10),e(22),null,null);t.exports=o.exports},function(t,n,e){var o=e(0)(e(11),e(20),null,null);t.exports=o.exports},function(t,n,e){var o=e(0)(e(14),e(19),null,null);t.exports=o.exports},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(1),i=e(3),s=e.n(i),a=e(2),u=e(4),r=e.n(u),c=e(5),l=e.n(c);o.a.component("Loading",r.a),o.a.component("XButton",l.a),o.a.config.productionTip=!1,new o.a({el:"#app",store:a.a,template:"<App/>",components:{App:s.a}})},function(t,n){t.exports={}},function(t,n){var e={loadingList:[]},o={PUSH_LOADING:function(t,n){t.loadingList.push({text:n||"玩命加载中..."})},SHIFT_LOADING:function(t){t.loadingList.shift()}},i={isLoading:function(t){return t.loadingList.length>0},loadingText:function(t){return t.loadingList.length>0?t.loadingList[0].text:null}},s={openLoading:function(t,n){t.commit("PUSH_LOADING",n)},closeLoading:function(t){t.commit("SHIFT_LOADING")}};t.exports={state:e,mutations:o,getters:i,actions:s}},function(t,n){t.exports={}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(16),i=e.n(o),s=e(17),a=e.n(s);n.default={name:"app",components:{loadingWithOutVuex:i.a,loadingWithVuex:a.a}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={props:["show","text"]}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={components:{},data:function(){return{loading:{show:!1,text:"加载中..."},count:0,countUp:null}},watch:{"loading.show":function(t){var n=this;t?(this.count=1,this.countUp=setInterval(function(){n.count+=1},1e3)):clearInterval(this.countUp)}},methods:{pushLoading:function(){var t=this;this.loading={show:!0,text:"加载中..."+Math.random().toFixed(4)},setTimeout(function(){t.loading.show=!1},5e3)}}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={components:{},data:function(){return{count:0,countUp:null}},computed:{loading:function(){return{show:this.$store.getters.isLoading,text:this.$store.getters.loadingText}}},watch:{"loading.show":function(t){var n=this;t?(this.count=1,this.countUp=setInterval(function(){n.count+=1},1e3)):clearInterval(this.countUp)}},methods:{pushLoading:function(){var t=this;this.$store.dispatch("openLoading","加载中..."+Math.random().toFixed(4)),setTimeout(function(){t.$store.dispatch("closeLoading")},5e3)}}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={props:{type:{type:String,default:function(){return"primary"}}}}},function(t,n){},function(t,n,e){var o=e(0)(e(12),e(18),null,null);t.exports=o.exports},function(t,n,e){var o=e(0)(e(13),e(21),null,null);t.exports=o.exports},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("p",[t._v("\n    普通loading\n  ")]),t._v(" "),e("loading",{attrs:{show:t.loading.show,text:t.loading.text}}),t._v(" "),e("x-button",{attrs:{type:"primary"},nativeOn:{click:function(n){t.pushLoading(n)}}},[t._v("PushLoading")]),t._v(" "),e("p",[t._v("\n    count: "+t._s(t.count)+"\n  ")]),t._v(" "),t._m(0)],1)},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"tips"},[t._v("\n    这种是没有用vuex来控制的 在5秒内点击多次（计数器数到 2 3 4都可以点一下） 内容是最新的 但是结束时间却不是以最后一次为准 这是一般toast/loading的缺陷 "),e("br"),t._v("\n    比如在发送 HTTP 请求的时候 一个请求 一次 loading "),e("br"),t._v("\n    那么 假如同一时段内发送了 两次或者两次以上的请求 那么就会在最先完成http请求之后关闭了 导致后来发起的请求 loading 状态也被改变了 并且这时候的toast/loading已经被关闭了\n  ")])}]}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("a",{staticClass:"weui-btn",class:["weui-btn_"+t.type],attrs:{href:"javascript:;"}},[t._t("default")],2)])},staticRenderFns:[]}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],attrs:{id:"loadingToast"}},[e("div",{staticClass:"weui-toast"},[e("i",{staticClass:"weui-loading weui-icon_toast"}),t._v(" "),e("p",{staticClass:"weui-toast__content"},[t._v(t._s(t.text))])])])])},staticRenderFns:[]}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{"margin-top":"20px"}},[e("p",[t._v("\n    使用vuex控制的loading\n  ")]),t._v(" "),e("loading",{attrs:{show:t.loading.show,text:t.loading.text}}),t._v(" "),e("x-button",{attrs:{type:"primary"},nativeOn:{click:function(n){t.pushLoading(n)}}},[t._v("PushLoading")]),t._v(" "),e("p",[t._v("\n    count: "+t._s(t.count)+"\n  ")]),t._v(" "),t._m(0)],1)},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"tips"},[t._v("\n    使用相同方法测试这个loading会发现是以最后一次点击 + 5s 结束的 因为是以队列的形式来记录loading的 "),e("br"),t._v("\n    这个demo只是以一个简单的list来记录loading 进一步思考 "),e("br"),t._v("\n    我如果返回了uuid 那岂不是 可以关闭指定的队列中的loading项 达到精准控制? 更好玩等待你们挖掘\n  ")])}]}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("loading-with-out-vuex"),t._v(" "),e("loading-with-vuex")],1)},staticRenderFns:[]}}],[6]);